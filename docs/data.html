<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Data · Daf.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.svg" alt="Daf.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Daf.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Daf</a></li><li class="is-active"><a class="tocitem" href="data.html">Data</a><ul class="internal"><li><a class="tocitem" href="#Read-API"><span>Read API</span></a></li><li><a class="tocitem" href="#Data-axes"><span>Data axes</span></a></li><li><a class="tocitem" href="#Write-API"><span>Write API</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="read_only.html">Read-only</a></li><li><a class="tocitem" href="formats.html">Formats</a></li><li><a class="tocitem" href="memory_format.html">Memory Format</a></li><li><a class="tocitem" href="queries.html">Queries</a></li><li><a class="tocitem" href="registry.html">Operations registry</a></li><li><a class="tocitem" href="operations.html">Query operations</a></li><li><a class="tocitem" href="storage_types.html">Storage types</a></li><li><a class="tocitem" href="matrix_layouts.html">Matrix layouts</a></li><li><a class="tocitem" href="oprec.html">Operator precedence parser</a></li><li><a class="tocitem" href="messages.html">Messages</a></li><li><a class="tocitem" href="example_data.html">Example data</a></li><li><a class="tocitem" href="todo.html">TODO</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="data.html">Data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="data.html">Data</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.md?plain=1#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Data"><a class="docs-heading-anchor" href="#Data">Data</a><a id="Data-1"></a><a class="docs-heading-anchor-permalink" href="#Data" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Daf.Data" href="#Daf.Data"><code>Daf.Data</code></a> — <span class="docstring-category">Module</span></header><section><div><p>The <a href="formats.html#Daf.Formats.ReadDaf"><code>ReadDaf</code></a> and <a href="formats.html#Daf.Formats.WriteDaf"><code>WriteDaf</code></a> interfaces specify a high-level API for accessing <code>Daf</code> data. This API is implemented here, on top of the low-level <a href="formats.html#Daf.Formats.ReadFormat"><code>ReadFormat</code></a> and <a href="formats.html#Daf.Formats.WriteFormat"><code>WriteFormat</code></a> API.</p><p>Data properties are identified by a unique name given the axes they are based on. That is, there is a separate namespace for scalar properties, vector properties for each specific axis, and matrix properties for each <em>unordered</em> pair of axes.</p><p>For matrices, we keep careful track of their <a href="matrix_layouts.html#Daf.MatrixLayouts"><code>MatrixLayouts</code></a>. Returned matrices are always in column-major layout, using <a href="matrix_layouts.html#Daf.MatrixLayouts.relayout!"><code>relayout!</code></a> if necessary. As this is an expensive operation, we&#39;ll cache the result in memory. Similarly, we cache the results of applying a query to the data. We allow clearing the cache to reduce memory usage, if necessary.</p><p>The data API is the high-level API intended to be used from outside the package, and is therefore re-exported from the top-level <code>Daf</code> namespace. It provides additional functionality on top of the low-level <a href="formats.html#Daf.Formats.ReadFormat"><code>ReadFormat</code></a> and <a href="formats.html#Daf.Formats.WriteFormat"><code>WriteFormat</code></a> implementations, accepting more general data types, automatically dealing with <a href="matrix_layouts.html#Daf.MatrixLayouts.relayout!"><code>relayout!</code></a> when needed, and even providing a language for <a href="queries.html#Daf.Queries"><code>Queries</code></a> for flexible extraction of data from the container.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL1-L18">source</a></section></article><h2 id="Read-API"><a class="docs-heading-anchor" href="#Read-API">Read API</a><a id="Read-API-1"></a><a class="docs-heading-anchor-permalink" href="#Read-API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.description" href="#Daf.Data.description"><code>Daf.Data.description</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">description(daf::ReadDaf)::AbstractString</code></pre><p>Return a (multi-line) description of the contents of <code>daf</code>. This tries to hit a sweet spot between usefulness and terseness.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL1005-L1010">source</a></section></article><h3 id="Queries"><a class="docs-heading-anchor" href="#Queries">Queries</a><a id="Queries-1"></a><a class="docs-heading-anchor-permalink" href="#Queries" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.scalar_query" href="#Daf.Data.scalar_query"><code>Daf.Data.scalar_query</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">scalar_query(daf::ReadDaf, query::AbstractString)::Union{StorageScalar, Nothing}</code></pre><p>Query <code>daf</code> for some scalar results. See <a href="queries.html#Daf.Queries.ScalarQuery"><code>ScalarQuery</code></a> for the possible queries that return scalar results.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL1411-L1415">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.vector_query" href="#Daf.Data.vector_query"><code>Daf.Data.vector_query</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vector_query(daf::ReadDaf, query::AbstractString)::Union{NamedVector, Nothing}</code></pre><p>Query <code>daf</code> for some vector results. See <a href="queries.html#Daf.Queries.VectorQuery"><code>VectorQuery</code></a> for the possible queries that return vector results. The names of the results are the names of the axis entries. This is especially useful when the query applies a mask to the axis. Will return <code>nothing</code> if any of the masks is empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL1348-L1354">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.matrix_query" href="#Daf.Data.matrix_query"><code>Daf.Data.matrix_query</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">matrix_query(daf::ReadDaf, query::AbstractString)::Union{NamedMatrix, Nothing}</code></pre><p>Query <code>daf</code> for some matrix results. See <a href="queries.html#Daf.Queries.MatrixQuery"><code>MatrixQuery</code></a> for the possible queries that return matrix results. The names of the axes of the result are the names of the axis entries. This is especially useful when the query applies masks to the axes. Will return <code>nothing</code> if any of the masks is empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL1098-L1104">source</a></section></article><h3 id="Scalar-properties"><a class="docs-heading-anchor" href="#Scalar-properties">Scalar properties</a><a id="Scalar-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Scalar-properties" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.has_scalar" href="#Daf.Data.has_scalar"><code>Daf.Data.has_scalar</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">has_scalar(daf::ReadDaf, name::AbstractString)::Bool</code></pre><p>Check whether a scalar property with some <code>name</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL83-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.get_scalar" href="#Daf.Data.get_scalar"><code>Daf.Data.get_scalar</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_scalar(
    daf::ReadDaf,
    name::AbstractString[; default::StorageScalar]
)::StorageScalar</code></pre><p>Get the value of a scalar property with some <code>name</code> in <code>daf</code>.</p><p>If <code>default</code> is not specified, this first verifies the <code>name</code> scalar property exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL144-L153">source</a></section></article><h2 id="Data-axes"><a class="docs-heading-anchor" href="#Data-axes">Data axes</a><a id="Data-axes-1"></a><a class="docs-heading-anchor-permalink" href="#Data-axes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.has_axis" href="#Daf.Data.has_axis"><code>Daf.Data.has_axis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">has_axis(daf::ReadDaf, axis::AbstractString)::Bool</code></pre><p>Check whether some <code>axis</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.axis_names" href="#Daf.Data.axis_names"><code>Daf.Data.axis_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">axis_names(daf::ReadDaf)::AbstractSet{String}</code></pre><p>The names of the axes of <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL241-L245">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.get_axis" href="#Daf.Data.get_axis"><code>Daf.Data.get_axis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_axis(daf::ReadDaf, axis::AbstractString)::DenseVector{String}</code></pre><p>The unique names of the entries of some <code>axis</code> of <code>daf</code>. This is similar to doing <a href="data.html#Daf.Data.get_vector"><code>get_vector</code></a> for the special <code>name</code> property, except that it returns a simple vector of strings instead of a <code>NamedVector</code>.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL250-L257">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.axis_length" href="#Daf.Data.axis_length"><code>Daf.Data.axis_length</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">axis_length(daf::ReadDaf, axis::AbstractString)::Int64</code></pre><p>The number of entries along the <code>axis</code> in <code>daf</code>.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL263-L269">source</a></section></article><h3 id="Vector-properties"><a class="docs-heading-anchor" href="#Vector-properties">Vector properties</a><a id="Vector-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Vector-properties" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.has_vector" href="#Daf.Data.has_vector"><code>Daf.Data.has_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">has_vector(daf::ReadDaf, axis::AbstractString, name::AbstractString)::Bool</code></pre><p>Check whether a vector property with some <code>name</code> exists for the <code>axis</code> in <code>daf</code>. This is always true for the special <code>name</code> property.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL289-L296">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.vector_names" href="#Daf.Data.vector_names"><code>Daf.Data.vector_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vector_names(daf::ReadDaf, axis::AbstractString)::Set{String}</code></pre><p>The names of the vector properties for the <code>axis</code> in <code>daf</code>, <strong>not</strong> including the special <code>name</code> property.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL458-L464">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.get_vector" href="#Daf.Data.get_vector"><code>Daf.Data.get_vector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_vector(
    daf::ReadDaf,
    axis::AbstractString,
    name::AbstractString
    [; default::Union{StorageScalar, StorageVector}]
)::NamedVector</code></pre><p>Get the vector property with some <code>name</code> for some <code>axis</code> in <code>daf</code>. The names of the result are the names of the vector entries (same as returned by <a href="data.html#Daf.Data.get_axis"><code>get_axis</code></a>). The special property <code>name</code> returns an array whose values are also the (read-only) names of the entries of the axis.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code>. If <code>default</code> is not specified, this first verifies the <code>name</code> vector exists in <code>daf</code>. Otherwise, if <code>default</code> is a <code>StorageVector</code>, it has to be of the same size as the <code>axis</code>, and is returned. Otherwise, a new <code>Vector</code> is created of the correct size containing the <code>default</code>, and is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL470-L485">source</a></section></article><h3 id="Matrix-properties"><a class="docs-heading-anchor" href="#Matrix-properties">Matrix properties</a><a id="Matrix-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix-properties" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.has_matrix" href="#Daf.Data.has_matrix"><code>Daf.Data.has_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">has_matrix(
    daf::ReadDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
    name::AbstractString,
)::Bool</code></pre><p>Check whether a matrix property with some <code>name</code> exists for the <code>rows_axis</code> and the <code>columns_axis</code> in <code>daf</code>. Since this is Julia, this means a column-major matrix. A daf may contain two copies of the same data, in which case it would report the matrix under both axis orders.</p><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL551-L564">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.matrix_names" href="#Daf.Data.matrix_names"><code>Daf.Data.matrix_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">matrix_names(
    daf::ReadDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
)::Set{String}</code></pre><p>The names of the matrix properties for the <code>rows_axis</code> and <code>columns_axis</code> in <code>daf</code>.</p><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exist in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL757-L767">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.get_matrix" href="#Daf.Data.get_matrix"><code>Daf.Data.get_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_matrix(
    daf::ReadDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
    name::AbstractString
    [; default::Union{StorageScalar, StorageMatrix}]
)::NamedMatrix</code></pre><p>Get the matrix property with some <code>name</code> for some <code>rows_axis</code> and <code>columns_axis</code> in <code>daf</code>. The names of the result axes are the names of the relevant axes entries (same as returned by <a href="data.html#Daf.Data.get_axis"><code>get_axis</code></a>).</p><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exist in <code>daf</code>. If <code>default</code> is not specified, this first verifies the <code>name</code> matrix exists in <code>daf</code>. Otherwise, if <code>default</code> is a <code>StorageMatrix</code>, it has to be of the same size as the <code>rows_axis</code> and <code>columns_axis</code>, and is returned. Otherwise, a new <code>Matrix</code> is created of the correct size containing the <code>default</code>, and is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL808-L824">source</a></section></article><h2 id="Write-API"><a class="docs-heading-anchor" href="#Write-API">Write API</a><a id="Write-API-1"></a><a class="docs-heading-anchor-permalink" href="#Write-API" title="Permalink"></a></h2><h3 id="Scalar-properties-2"><a class="docs-heading-anchor" href="#Scalar-properties-2">Scalar properties</a><a class="docs-heading-anchor-permalink" href="#Scalar-properties-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.set_scalar!" href="#Daf.Data.set_scalar!"><code>Daf.Data.set_scalar!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_scalar!(
    daf::WriteDaf,
    name::AbstractString,
    value::StorageScalar
    [; overwrite::Bool]
)::Nothing</code></pre><p>Set the <code>value</code> of a scalar property with some <code>name</code> in <code>daf</code>.</p><p>If <code>overwrite</code> is <code>false</code> (the default), this first verifies the <code>name</code> scalar property does not exist.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL92-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.delete_scalar!" href="#Daf.Data.delete_scalar!"><code>Daf.Data.delete_scalar!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">delete_scalar!(
    daf::WriteDaf,
    name::AbstractString;
    must_exist::Bool = true,
)::Nothing</code></pre><p>Delete a scalar property with some <code>name</code> from <code>daf</code>.</p><p>If <code>must_exist</code> is <code>true</code> (the default), this first verifies the <code>name</code> scalar property exists in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL113-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.scalar_names" href="#Daf.Data.scalar_names"><code>Daf.Data.scalar_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">scalar_names(daf::ReadDaf)::Set{String}</code></pre><p>The names of the scalar properties in <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL135-L139">source</a></section></article><h3 id="Data-axes-2"><a class="docs-heading-anchor" href="#Data-axes-2">Data axes</a><a class="docs-heading-anchor-permalink" href="#Data-axes-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.add_axis!" href="#Daf.Data.add_axis!"><code>Daf.Data.add_axis!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_axis!(
    daf::WriteDaf,
    axis::AbstractString,
    entries::DenseVector{String}
)::Nothing</code></pre><p>Add a new <code>axis</code> <code>daf</code>.</p><p>This first verifies the <code>axis</code> does not exist and that the <code>entries</code> are unique.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL187-L197">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.delete_axis!" href="#Daf.Data.delete_axis!"><code>Daf.Data.delete_axis!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">delete_axis!(
    daf::WriteDaf,
    axis::AbstractString;
    must_exist::Bool = true,
)::Nothing</code></pre><p>Delete an <code>axis</code> from the <code>daf</code>. This will also delete any vector or matrix properties that are based on this axis.</p><p>If <code>must_exist</code> is <code>true</code> (the default), this first verifies the <code>axis</code> exists in the <code>daf</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL209-L219">source</a></section></article><h3 id="Vector-properties-2"><a class="docs-heading-anchor" href="#Vector-properties-2">Vector properties</a><a class="docs-heading-anchor-permalink" href="#Vector-properties-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.set_vector!" href="#Daf.Data.set_vector!"><code>Daf.Data.set_vector!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_vector!(
    daf::WriteDaf,
    axis::AbstractString,
    name::AbstractString,
    vector::Union{StorageScalar, StorageVector}
    [; overwrite::Bool]
)::Nothing</code></pre><p>Set a vector property with some <code>name</code> for some <code>axis</code> in <code>daf</code>.</p><p>If the <code>vector</code> specified is actually a <a href="storage_types.html#Daf.StorageTypes.StorageScalar"><code>StorageScalar</code></a>, the stored vector is filled with this value.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code>, that the property name isn&#39;t <code>name</code>, and that the <code>vector</code> has the appropriate length. If <code>overwrite</code> is <code>false</code> (the default), this also verifies the <code>name</code> vector does not exist for the <code>axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL302-L318">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.delete_vector!" href="#Daf.Data.delete_vector!"><code>Daf.Data.delete_vector!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">delete_vector!(
    daf::WriteDaf,
    axis::AbstractString,
    name::AbstractString;
    must_exist::Bool = true,
)::Nothing</code></pre><p>Delete a vector property with some <code>name</code> for some <code>axis</code> from <code>daf</code>.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code> and that the property name isn&#39;t <code>name</code>. If <code>must_exist</code> is <code>true</code> (the default), this also verifies the <code>name</code> vector exists for the <code>axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL431-L443">source</a></section></article><h3 id="Matrix-properties-2"><a class="docs-heading-anchor" href="#Matrix-properties-2">Matrix properties</a><a class="docs-heading-anchor-permalink" href="#Matrix-properties-2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.set_matrix!" href="#Daf.Data.set_matrix!"><code>Daf.Data.set_matrix!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">set_matrix!(
    daf::WriteDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
    name::AbstractString,
    matrix::StorageMatrix
    [; overwrite::Bool]
)::Nothing</code></pre><p>Set the matrix property with some <code>name</code> for some <code>rows_axis</code> and <code>columns_axis</code> in <code>daf</code>. Since this is Julia, this should be a column-major <code>matrix</code>.</p><p>If the <code>matrix</code> specified is actually a <a href="storage_types.html#Daf.StorageTypes.StorageScalar"><code>StorageScalar</code></a>, the stored matrix is filled with this value.</p><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exist in <code>daf</code>, that the <code>matrix</code> is column-major of the appropriate size. If <code>overwrite</code> is <code>false</code> (the default), this also verifies the <code>name</code> matrix does not exist for the <code>rows_axis</code> and <code>columns_axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL571-L589">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.delete_matrix!" href="#Daf.Data.delete_matrix!"><code>Daf.Data.delete_matrix!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">delete_matrix!(
    daf::WriteDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
    name::AbstractString;
    must_exist::Bool = true,
)::Nothing</code></pre><p>Delete a matrix property with some <code>name</code> for some <code>rows_axis</code> and <code>columns_axis</code> from <code>daf</code>.</p><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exist in <code>daf</code>. If <code>must_exist</code> is <code>true</code> (the default), this also verifies the <code>name</code> matrix exists for the <code>rows_axis</code> and <code>columns_axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL723-L736">source</a></section></article><h3 id="Creating-properties"><a class="docs-heading-anchor" href="#Creating-properties">Creating properties</a><a id="Creating-properties-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-properties" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.empty_dense_vector!" href="#Daf.Data.empty_dense_vector!"><code>Daf.Data.empty_dense_vector!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">empty_dense_vector!(
    daf::WriteDaf,
    axis::AbstractString,
    name::AbstractString,
    eltype::Type{T}
    [; overwrite::Bool]
)::NamedVector{T, DenseVector{T}} where {T &lt;: Number}</code></pre><p>Create an empty dense vector property with some <code>name</code> for some <code>axis</code> in <code>daf</code>.</p><p>The returned vector will be uninitialized; the caller is expected to fill it with values. This saves creating a copy of the vector before setting it in the data, which makes a huge difference when creating vectors on disk (using memory mapping). For this reason, this does not work for strings, as they do not have a fixed size.</p><p>This first verifies the <code>axis</code> exists in <code>daf</code> and that the property name isn&#39;t <code>name</code>. If <code>overwrite</code> is <code>false</code> (the default), this also verifies the <code>name</code> vector does not exist for the <code>axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL344-L361">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.empty_sparse_vector!" href="#Daf.Data.empty_sparse_vector!"><code>Daf.Data.empty_sparse_vector!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">empty_sparse_vector!(
    daf::WriteDaf,
    axis::AbstractString,
    name::AbstractString,
    eltype::Type{T},
    nnz::Integer,
    indtype::Type{I}
    [; overwrite::Bool]
)::NamedVector{T, SparseVector{T, I}} where {T &lt;: Number, I &lt;: Integer}</code></pre><p>Create an empty dense vector property with some <code>name</code> for some <code>axis</code> in <code>daf</code>.</p><p>The returned vector will be uninitialized; the caller is expected to fill it with values. This means manually filling the <code>nzind</code> and <code>nzval</code> vectors. Specifying the <code>nnz</code> makes their sizes known in advance, to allow pre-allocating disk data. For this reason, this does not work for strings, as they do not have a fixed size.</p><p>This severely restricts the usefulness of this function, because typically <code>nnz</code> is only know after fully computing the matrix. Still, in some cases a large sparse vector is created by concatenating several smaller ones; this function allows doing so directly into the data vector, avoiding a copy in case of memory-mapped disk formats.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>It is the caller&#39;s responsibility to fill the three vectors with valid data. <strong>There&#39;s no safety net if you mess this up</strong>. Specifically, you must ensure:</p><ul><li><code>nzind[1] == 1</code></li><li><code>nzind[i] &lt;= nzind[i + 1]</code></li><li><code>nzind[end] == nnz</code></li></ul></div></div><p>This first verifies the <code>axis</code> exists in <code>daf</code> and that the property name isn&#39;t <code>name</code>. If <code>overwrite</code> is <code>false</code> (the default), this also verifies the <code>name</code> vector does not exist for the <code>axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL379-L411">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.empty_dense_matrix!" href="#Daf.Data.empty_dense_matrix!"><code>Daf.Data.empty_dense_matrix!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">empty_dense_matrix!(
    daf::WriteDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
    name::AbstractString,
    eltype::Type{T}
    [; overwrite::Bool]
)::NamedMatrix{T, DenseMatrix{T}} where {T &lt;: Number}</code></pre><p>Create an empty dense matrix property with some <code>name</code> for some <code>rows_axis</code> and <code>columns_axis</code> in <code>daf</code>. Since this is Julia, this will be a column-major <code>matrix</code>.</p><p>The returned matrix will be uninitialized; the caller is expected to fill it with values. This saves creating a copy of the matrix before setting it in <code>daf</code>, which makes a huge difference when creating matrices on disk (using memory mapping). For this reason, this does not work for strings, as they do not have a fixed size.</p><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exist in <code>daf</code>, that the <code>matrix</code> is column-major of the appropriate size. If <code>overwrite</code> is <code>false</code> (the default), this also verifies the <code>name</code> matrix does not exist for the <code>rows_axis</code> and <code>columns_axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL619-L639">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Daf.Data.empty_sparse_matrix!" href="#Daf.Data.empty_sparse_matrix!"><code>Daf.Data.empty_sparse_matrix!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">empty_sparse_matrix!(
    daf::WriteDaf,
    rows_axis::AbstractString,
    columns_axis::AbstractString,
    name::AbstractString,
    eltype::Type{T},
    nnz::Integer,
    intdype::Type{I}
    [; overwrite::Bool]
)::NamedMatrix{T, SparseMatrixCSC{T, I}} where {T &lt;: Number, I &lt;: Integer}</code></pre><p>Create an empty sparse matrix property with some <code>name</code> for some <code>rows_axis</code> and <code>columns_axis</code> in <code>daf</code>.</p><p>The returned matrix will be uninitialized; the caller is expected to fill it with values. This means manually filling the <code>colptr</code>, <code>rowval</code> and <code>nzval</code> vectors. Specifying the <code>nnz</code> makes their sizes known in advance, to allow pre-allocating disk space. For this reason, this does not work for strings, as they do not have a fixed size.</p><p>This severely restricts the usefulness of this function, because typically <code>nnz</code> is only know after fully computing the matrix. Still, in some cases a large sparse matrix is created by concatenating several smaller ones; this function allows doing so directly into the data, avoiding a copy in case of memory-mapped disk formats.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>It is the caller&#39;s responsibility to fill the three vectors with valid data. <strong>There&#39;s no safety net if you mess this up</strong>. Specifically, you must ensure:</p><ul><li><code>colptr[1] == 1</code></li><li><code>colptr[end] == nnz + 1</code></li><li><code>colptr[i] &lt;= colptr[i + 1]</code></li><li>for all <code>j</code>, for all <code>i</code> such that <code>colptr[j] &lt;= i</code> and <code>i + 1 &lt; colptr[j + 1]</code>, <code>1 &lt;= rowptr[i] &lt; rowptr[i + 1] &lt;= nrows</code></li></ul></div></div><p>This first verifies the <code>rows_axis</code> and <code>columns_axis</code> exist in <code>daf</code>. If <code>overwrite</code> is <code>false</code> (the default), this also verifies the <code>name</code> matrix does not exist for the <code>rows_axis</code> and <code>columns_axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tanaylab/Daf.jl/blob/main/src/data.jl?plain=1#LL663-L697">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="data.html#Daf.Data"><code>Daf.Data</code></a></li><li><a href="data.html#Daf.Data.add_axis!"><code>Daf.Data.add_axis!</code></a></li><li><a href="data.html#Daf.Data.axis_length"><code>Daf.Data.axis_length</code></a></li><li><a href="data.html#Daf.Data.axis_names"><code>Daf.Data.axis_names</code></a></li><li><a href="data.html#Daf.Data.delete_axis!"><code>Daf.Data.delete_axis!</code></a></li><li><a href="data.html#Daf.Data.delete_matrix!"><code>Daf.Data.delete_matrix!</code></a></li><li><a href="data.html#Daf.Data.delete_scalar!"><code>Daf.Data.delete_scalar!</code></a></li><li><a href="data.html#Daf.Data.delete_vector!"><code>Daf.Data.delete_vector!</code></a></li><li><a href="data.html#Daf.Data.description"><code>Daf.Data.description</code></a></li><li><a href="data.html#Daf.Data.empty_dense_matrix!"><code>Daf.Data.empty_dense_matrix!</code></a></li><li><a href="data.html#Daf.Data.empty_dense_vector!"><code>Daf.Data.empty_dense_vector!</code></a></li><li><a href="data.html#Daf.Data.empty_sparse_matrix!"><code>Daf.Data.empty_sparse_matrix!</code></a></li><li><a href="data.html#Daf.Data.empty_sparse_vector!"><code>Daf.Data.empty_sparse_vector!</code></a></li><li><a href="data.html#Daf.Data.get_axis"><code>Daf.Data.get_axis</code></a></li><li><a href="data.html#Daf.Data.get_matrix"><code>Daf.Data.get_matrix</code></a></li><li><a href="data.html#Daf.Data.get_scalar"><code>Daf.Data.get_scalar</code></a></li><li><a href="data.html#Daf.Data.get_vector"><code>Daf.Data.get_vector</code></a></li><li><a href="data.html#Daf.Data.has_axis"><code>Daf.Data.has_axis</code></a></li><li><a href="data.html#Daf.Data.has_matrix"><code>Daf.Data.has_matrix</code></a></li><li><a href="data.html#Daf.Data.has_scalar"><code>Daf.Data.has_scalar</code></a></li><li><a href="data.html#Daf.Data.has_vector"><code>Daf.Data.has_vector</code></a></li><li><a href="data.html#Daf.Data.matrix_names"><code>Daf.Data.matrix_names</code></a></li><li><a href="data.html#Daf.Data.matrix_query"><code>Daf.Data.matrix_query</code></a></li><li><a href="data.html#Daf.Data.scalar_names"><code>Daf.Data.scalar_names</code></a></li><li><a href="data.html#Daf.Data.scalar_query"><code>Daf.Data.scalar_query</code></a></li><li><a href="data.html#Daf.Data.set_matrix!"><code>Daf.Data.set_matrix!</code></a></li><li><a href="data.html#Daf.Data.set_scalar!"><code>Daf.Data.set_scalar!</code></a></li><li><a href="data.html#Daf.Data.set_vector!"><code>Daf.Data.set_vector!</code></a></li><li><a href="data.html#Daf.Data.vector_names"><code>Daf.Data.vector_names</code></a></li><li><a href="data.html#Daf.Data.vector_query"><code>Daf.Data.vector_query</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Daf</a><a class="docs-footer-nextpage" href="read_only.html">Read-only »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 3 August 2023 16:18">Thursday 3 August 2023</span>. Using Julia version 1.9.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
